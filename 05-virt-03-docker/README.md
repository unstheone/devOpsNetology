# Домашнее задание к занятию 3. «Введение. Экосистема. Архитектура. Жизненный цикл Docker-контейнера»## Задача 1Сценарий выполнения задачи:- создайте свой репозиторий на https://hub.docker.com;- выберите любой образ, который содержит веб-сервер Nginx;- создайте свой fork образа;- реализуйте функциональность:запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:```<html><head>Hey, Netology</head><body><h1>I’m DevOps Engineer!</h1></body></html>```Опубликуйте созданный fork в своём репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.## Ответ:~~~https://hub.docker.com/r/unstheone/ubuntu-nginx/~~~```commandlinedocker pull unstheone/ubuntu-nginx:1.0.1```## Задача 2Посмотрите на сценарий ниже и ответьте на вопрос:«Подходит ли в этом сценарии использование Docker-контейнеров или лучше подойдёт виртуальная машина, физическая машина? Может быть, возможны разные варианты?»Детально опишите и обоснуйте свой выбор.--Сценарий:- высоконагруженное монолитное Java веб-приложение;~~~Лучше подойдёт отдельная виртуальная или физическая машина, плюсы контейнеризации в виде легковесности, масштабируемости и упрощения миграции здесь не применить, т.к. приложение не поделить на микросервисы.  ~~~- Nodejs веб-приложение;~~~Ничего не знаю про Nodejs, но веб приложения конечно лучше разрабатывать под контейнерную среду.~~~- мобильное приложение c версиями для Android и iOS;~~~Фантазируя, наверняка у единого приложения, разрабатываемого под разные платформы, есть некий единый backend. Его состав и решит, что лучше в конкретном случае. Насколько помню разработку UI под iOS, там на макбуке придётся разрабатываеть.~~~- шина данных на базе Apache Kafka;~~~Незнаю, наверное подойдёт использование докер-контейнеров.~~~- Elasticsearch-кластер для реализации логирования продуктивного веб-приложения — три ноды elasticsearch, два logstash и две ноды kibana;~~~Незнаю, наверное подойдёт использование докер-контейнеров.~~~- мониторинг-стек на базе Prometheus и Grafana;~~~Да, лучше использовать Docker-контейнеры. Лечге и быстрее мигрировать и нарастить.~~~- MongoDB как основное хранилище данных для Java-приложения;~~~Лучше использовать контейнеризацию. Проще наращивать количество инстансов БД при росте нагрузки, а также обеспечить отказоустойчивость, собирая контейнеры в кластер~~~- Gitlab-сервер для реализации CI/CD-процессов и приватный (закрытый) Docker Registry.~~~Отдельный физический сервер или виртуализация будет лучше.~~~## Задача 3- Запустите первый контейнер из образа ***centos*** c любым тегом в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера.~~~root@uns-E5470:/home/uns# docker run -d -v /data:/data centos sleep infinity649e29575079e54fe813a1847d79457a7033160d013a9cb737fbd5e8eed7a10aroot@uns-E5470:/home/uns# docker psCONTAINER ID   IMAGE     COMMAND            CREATED         STATUS         PORTS     NAMES649e29575079   centos    "sleep infinity"   4 seconds ago   Up 3 seconds             fervent_roentgenoot@uns-E5470:/home/uns# docker exec -it 649 bash [root@649e29575079 /]# ls -lahtotal 60Kdrwxr-xr-x   1 root root 4.0K Apr  9 12:13 .drwxr-xr-x   1 root root 4.0K Apr  9 12:13 ..-rwxr-xr-x   1 root root    0 Apr  9 12:13 .dockerenvlrwxrwxrwx   1 root root    7 Nov  3  2020 bin -> usr/bindrwxr-xr-x   2 root root 4.0K Apr  9 12:13 datadrwxr-xr-x   5 root root  340 Apr  9 12:13 devdrwxr-xr-x   1 root root 4.0K Apr  9 12:13 etcdrwxr-xr-x   2 root root 4.0K Nov  3  2020 homelrwxrwxrwx   1 root root    7 Nov  3  2020 lib -> usr/liblrwxrwxrwx   1 root root    9 Nov  3  2020 lib64 -> usr/lib64drwx------   2 root root 4.0K Sep 15  2021 lost+founddrwxr-xr-x   2 root root 4.0K Nov  3  2020 mediadrwxr-xr-x   2 root root 4.0K Nov  3  2020 mntdrwxr-xr-x   2 root root 4.0K Nov  3  2020 optdr-xr-xr-x 359 root root    0 Apr  9 12:13 procdr-xr-x---   2 root root 4.0K Sep 15  2021 rootdrwxr-xr-x  11 root root 4.0K Sep 15  2021 runlrwxrwxrwx   1 root root    8 Nov  3  2020 sbin -> usr/sbindrwxr-xr-x   2 root root 4.0K Nov  3  2020 srvdr-xr-xr-x  13 root root    0 Apr  9 12:13 sysdrwxrwxrwt   7 root root 4.0K Sep 15  2021 tmpdrwxr-xr-x  12 root root 4.0K Sep 15  2021 usrdrwxr-xr-x  20 root root 4.0K Sep 15  2021 var[root@649e29575079 /]# pwd/[root@649e29575079 /]# exit~~~- Запустите второй контейнер из образа ***debian*** в фоновом режиме, подключив папку ```/data``` из текущей рабочей директории на хостовой машине в ```/data``` контейнера.```bashroot@uns-E5470:/home/uns# docker run -d -v /data:/data debian sleep infinityUnable to find image 'debian:latest' locallylatest: Pulling from library/debian3e440a704568: Pull complete Digest: sha256:7b991788987ad860810df60927e1adbaf8e156520177bd4db82409f81dd3b721Status: Downloaded newer image for debian:latestda0a089f14c85dc264f95f1ac7bf487e633dab16f4e27120630184ea7cacc4bcroot@uns-E5470:/home/uns# docker psCONTAINER ID   IMAGE     COMMAND            CREATED         STATUS         PORTS     NAMESda0a089f14c8   debian    "sleep infinity"   4 seconds ago   Up 2 seconds             dazzling_satoshi649e29575079   centos    "sleep infinity"   4 minutes ago   Up 4 minutes             fervent_roentgen```- Подключитесь к первому контейнеру с помощью ```docker exec``` и создайте текстовый файл любого содержания в ```/data```.- Добавьте ещё один файл в папку ```/data``` на хостовой машине.- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в ```/data``` контейнера.```bashroot@uns-E5470:/home/uns# docker psCONTAINER ID   IMAGE     COMMAND            CREATED         STATUS         PORTS     NAMESda0a089f14c8   debian    "sleep infinity"   4 seconds ago   Up 2 seconds             dazzling_satoshi649e29575079   centos    "sleep infinity"   4 minutes ago   Up 4 minutes             fervent_roentgenroot@uns-E5470:/home/uns# docker exec -it 649 bash [root@649e29575079 /]# cd /data[root@649e29575079 data]# vi FileContCentos [root@649e29575079 data]# exitexitroot@uns-E5470:/home/uns# cd /dataroot@uns-E5470:/data# nano FileHostroot@uns-E5470:/data# docker exec -it da0a bash root@da0a089f14c8:/# cd /data/root@da0a089f14c8:/data# ls -lahtotal 16Kdrwxr-xr-x 2 root root 4.0K Apr  9 12:23 .drwxr-xr-x 1 root root 4.0K Apr  9 12:18 ..-rw-r--r-- 1 root root   23 Apr  9 12:22 FileContCentos-rw-r--r-- 1 root root   21 Apr  9 12:23 FileHost ```## Задача 4 (*)Воспроизведите практическую часть лекции самостоятельно.Соберите Docker-образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.---### Как cдавать заданиеВыполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.---